<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
      
<h:head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>R√©sultats - Oceania Hotels</title>
    
    <style>
        /* Reset et base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #e94560;
            letter-spacing: 3px;
        }
        
        .nav-links a {
            color: #fff;
            text-decoration: none;
            margin-left: 2rem;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #e94560;
        }
        
        /* Container principal */
        .main-container {
            max-width: 1100px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        /* Titre et r√©sum√© */
        .results-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .results-header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .results-summary {
            display: inline-block;
            background: rgba(233, 69, 96, 0.2);
            border: 1px solid rgba(233, 69, 96, 0.5);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            color: #ff8a9b;
            font-size: 1rem;
        }
        
        /* Grille de r√©sultats */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* Carte de r√©sultat */
        .result-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }
        
        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(233, 69, 96, 0.5);
        }
        
        .card-image {
            height: 180px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
        }
        
        .card-image.site {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        
        .card-image.hotel {
            background: linear-gradient(135deg, #ee9ca7 0%, #ffdde1 100%);
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        .card-type {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.8rem;
        }
        
        .card-type.historical {
            background: rgba(155, 89, 182, 0.3);
            color: #bb8fce;
        }
        
        .card-type.activity {
            background: rgba(46, 204, 113, 0.3);
            color: #82e0aa;
        }
        
        .card-type.hotel {
            background: rgba(241, 196, 15, 0.3);
            color: #f9e79f;
        }
        
        .card-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #fff;
        }
        
        .card-description {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .card-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: #e94560;
        }
        
        .card-stars {
            color: #f1c40f;
            font-size: 1.1rem;
            letter-spacing: 2px;
        }
        
        .card-info {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        /* Message aucun r√©sultat */
        .no-results {
            text-align: center;
            padding: 4rem 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            margin-bottom: 2rem;
        }
        
        .no-results-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        
        .no-results h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .no-results p {
            color: rgba(255, 255, 255, 0.6);
        }
        
        /* Boutons */
        .actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        
        .btn {
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #e94560 0%, #ff6b6b 100%);
            color: #fff;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }
    </style>
</h:head>

<h:body>
    
    <!-- Header -->
    <header class="header">
        <div class="logo">OCEANIA</div>
        <nav class="nav-links">
            <h:link value="Accueil" outcome="index"/>
            <h:link value="Recherche" outcome="search"/>
        </nav>
    </header>
    
    <!-- Contenu principal -->
    <main class="main-container">
        
        <!-- En-t√™te des r√©sultats -->
        <div class="results-header">
            <h1>R√©sultats de recherche</h1>
            <h:panelGroup rendered="#{not empty searchBean.message}">
                <div class="results-summary">
                    #{searchBean.message}
                </div>
            </h:panelGroup>
        </div>
        
        <!-- R√©sultats : Sites -->
        <h:panelGroup rendered="#{searchBean.showSiteResults and not empty searchBean.siteResults}">
            <div class="results-grid">
                <ui:repeat value="#{searchBean.siteResults}" var="site">
                    <div class="result-card">
                        <div class="card-image site">
                            <h:panelGroup rendered="#{site.historical}">üèõÔ∏è</h:panelGroup>
                            <h:panelGroup rendered="#{not site.historical}">üèùÔ∏è</h:panelGroup>
                        </div>
                        <div class="card-content">
                            <h:panelGroup rendered="#{site.historical}">
                                <span class="card-type historical">Site historique</span>
                            </h:panelGroup>
                            <h:panelGroup rendered="#{not site.historical}">
                                <span class="card-type activity">Activit√©</span>
                            </h:panelGroup>
                            <h3 class="card-title">#{site.name}</h3>
                            <p class="card-description">#{site.description}</p>
                            <div class="card-details">
                                <span class="card-price">#{site.price} ‚Ç¨</span>
                                <span class="card-info">
                                    ‚è±Ô∏è #{site.duration.toHours()}h#{site.duration.toMinutesPart()}
                                </span>
                            </div>
                        </div>
                    </div>
                </ui:repeat>
            </div>
        </h:panelGroup>
        
        <!-- R√©sultats : H√¥tels -->
        <h:panelGroup rendered="#{searchBean.showHotelResults and not empty searchBean.hotelResults}">
            <div class="results-grid">
                <ui:repeat value="#{searchBean.hotelResults}" var="hotel">
                    <div class="result-card">
                        <div class="card-image hotel">üè®</div>
                        <div class="card-content">
                            <span class="card-type hotel">H√¥tel</span>
                            <h3 class="card-title">#{hotel.name}</h3>
                            <p class="card-description">
                                üìç Plage : #{hotel.beachName}
                            </p>
                            <div class="card-details">
                                <span class="card-price">#{hotel.price} ‚Ç¨ / nuit</span>
                                <span class="card-stars">#{searchBean.getStarsDisplay(hotel.starRating)}</span>
                            </div>
                        </div>
                    </div>
                </ui:repeat>
            </div>
        </h:panelGroup>
        
        <!-- Aucun r√©sultat -->
        <h:panelGroup rendered="#{searchBean.searchPerformed and not searchBean.hasResults()}">
            <div class="no-results">
                <div class="no-results-icon">üîç</div>
                <h2>Aucun r√©sultat trouv√©</h2>
                <p>Essayez avec d'autres mots-cl√©s</p>
            </div>
        </h:panelGroup>
        
        <!-- Boutons d'action -->
        <div class="actions">
            <h:link value="üîç Nouvelle recherche" outcome="search" styleClass="btn btn-primary"/>
            <h:link value="üè† Retour √† l'accueil" outcome="index" styleClass="btn btn-secondary"/>
        </div>
        
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <p>¬© 2026 Oceania Hotels ‚Äì Tous droits r√©serv√©s</p>
    </footer>
    
</h:body>
</html>
